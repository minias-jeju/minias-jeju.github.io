// scripts/generate-autoimport.js
import fs from 'fs';
import path from 'path';

const MESSAGES_JSON = path.resolve('src/lib/paraglide/messages.json');
const OUTPUT_TS = path.resolve('src/auto-imports/messages.generated.ts');

function generateAutoImportList() {
  const messages = JSON.parse(fs.readFileSync(MESSAGES_JSON, 'utf-8'));
  const keys = Object.keys(messages);

  const content = `// ğŸ”§ auto-generated by generate-autoimport.js\n` +
    `export const paraglideMessages = {\n` +
    keys.map(key => `  ${key}: '${key}'`).join(',\n') +
    `\n} as const;\n`;

  fs.writeFileSync(OUTPUT_TS, content, 'utf-8');
  console.log(`âœ… messages.generated.ts ìƒì„± ì™„ë£Œ (${keys.length}ê°œ í‚¤)`);
}

generateAutoImportList();
